@import url('https://fonts.googleapis.com/css2?family=Source+Sans+3:wght@400;500;600;700&display=swap');
@import '@fontsource/ibm-plex-mono/400.css';
@import 'katex/dist/katex.min.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: dark;
  --bg-main: #070a0c;
  --bg-panel: #111418;
  --bg-panel-soft: #161a21;
  --text-main: #d7dde5;
  --text-muted: #98a4b3;
  --accent: #8ea4bf;
  --kicker: rgb(74, 144, 177);
  --header-scrolled-bg: rgba(74, 144, 177, 0.096);
  --border: #252a32;
}

html,
body {
  margin: 0;
  padding: 0;
  font-family: 'Source Sans 3', 'Segoe UI', sans-serif;
  background: linear-gradient(180deg, #090d10 0%, #080b0e 22%, var(--bg-main) 52%, var(--bg-main) 100%);
  background-attachment: fixed;
  background-repeat: no-repeat;
  color: var(--text-main);
  min-height: 100%;
}

.site-shell {
  position: relative;
  z-index: 1;
}

.ambient-canvas-wrap {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  opacity: 0.92;
}

.ambient-canvas {
  display: block;
  width: 100%;
  height: 100%;
}

main {
  width: min(1080px, 92vw);
  margin: 0 auto;
}

a {
  color: var(--text-main);
}

.skip-link {
  position: absolute;
  left: 1rem;
  top: -5rem;
  background: #fff;
  color: #111;
  padding: 0.5rem 0.75rem;
  border-radius: 0.5rem;
  z-index: 100;
}

.skip-link:focus {
  top: 1rem;
}

.section-shell {
  @apply rounded-2xl border border-solid border-border bg-surface/90 p-6 md:p-8;
}

.site-header {
  background-color: transparent;
  backdrop-filter: blur(0);
  -webkit-backdrop-filter: blur(0);
  transition:
    background-color 240ms ease,
    border-color 240ms ease,
    backdrop-filter 240ms ease,
    -webkit-backdrop-filter 240ms ease,
    box-shadow 240ms ease;
}

.site-header[data-scrolled='true'] {
  background-color: var(--header-scrolled-bg);
  border-color: rgb(255 255 255 / 0.14);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  box-shadow: 0 10px 30px rgb(0 0 0 / 0.25);
}

.nav-link {
  border: 1px solid transparent;
}

.nav-link[data-current='true'] {
  color: #edf4fc;
  border-color: rgb(142 164 191 / 0.32);
  background: rgb(142 164 191 / 0.14);
}

.mono {
  font-family: 'IBM Plex Mono', monospace;
}

.kicker {
  color: var(--kicker);
}

.muted {
  color: var(--text-muted);
}

.tag {
  @apply rounded-full border border-solid border-border bg-white/5 px-3 py-1 text-xs font-medium uppercase tracking-wide text-muted;
}

.action-link {
  @apply inline-flex items-center gap-2 rounded-lg border border-solid border-border bg-white/5 px-3 py-2 text-sm transition hover:border-accent hover:text-accent focus:outline-none focus:ring-2 focus:ring-accent;
}

.prose {
  --tw-prose-body: var(--text-main);
  --tw-prose-headings: #eef4fc;
  --tw-prose-links: #d2deec;
  --tw-prose-bold: #f3f8ff;
  --tw-prose-code: #e2ebf5;
  --tw-prose-pre-bg: #11151c;
  --tw-prose-bullets: #7e8897;
  --tw-prose-counters: #95a1b1;
  --tw-prose-hr: #2a313a;
}

.prose code {
  border: 1px solid var(--border);
  border-radius: 0.375rem;
  padding: 0.1rem 0.3rem;
}

.prose pre code {
  border: 0;
  padding: 0;
}

.code-wrap {
  position: relative;
}

.copy-btn {
  position: absolute;
  top: 0.6rem;
  right: 0.6rem;
  border-radius: 0.45rem;
  border: 1px solid #2c3440;
  background: #151a22;
  color: #cdd5df;
  font-size: 0.72rem;
  padding: 0.25rem 0.5rem;
}

.copy-btn:hover,
.copy-btn:focus-visible {
  border-color: var(--accent);
  color: #fff;
  outline: none;
}
