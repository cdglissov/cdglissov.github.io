@import 'katex/dist/katex.min.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: dark;
  --bg-main: #070a0c;
  --text-main: #d7dde5;
  --text-muted: #98a4b3;
  --accent: rgb(74 144 177);
  --header-scrolled-bg: rgba(74, 144, 177, 0.096);
  --border: #252a32;
}

html,
body {
  margin: 0;
  padding: 0;
  @apply font-sans;
  background: linear-gradient(
    180deg,
    #090d10 0%,
    #080b0e 22%,
    var(--bg-main) 52%,
    var(--bg-main) 100%
  );
  background-attachment: fixed;
  background-repeat: no-repeat;
  color: var(--text-main);
  min-height: 100%;
}

@media (hover: none) and (pointer: coarse) {
  html,
  body {
    background-attachment: scroll;
  }
}

.site-shell {
  position: relative;
  z-index: 1;
}

.ambient-canvas-wrap {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  opacity: 0.92;
}

.ambient-canvas {
  display: block;
  width: 100%;
  height: 100%;
}

main {
  width: min(1080px, 92vw);
  margin: 0 auto;
}

a {
  color: var(--accent);
}

.skip-link {
  position: absolute;
  left: 1rem;
  top: -5rem;
  background: #fff;
  color: #111;
  padding: 0.5rem 0.75rem;
  border-radius: 0.5rem;
  z-index: 100;
}

.skip-link:focus {
  top: 1rem;
}

.section-shell {
  @apply rounded-2xl border border-solid border-border bg-surface/90 p-6 md:p-8;
}

.mono {
  @apply font-mono;
}

.kicker {
  color: var(--accent);
}

.tag {
  @apply rounded-full border border-solid border-border bg-white/5 px-3 py-1 text-xs font-medium uppercase tracking-wide text-muted;
}

.prose {
  --tw-prose-body: var(--text-main);
  --tw-prose-headings: #eef4fc;
  --tw-prose-links: var(--accent);
  --tw-prose-bold: #f3f8ff;
  --tw-prose-code: #e2ebf5;
  --tw-prose-pre-bg: #11151c;
  --tw-prose-bullets: #7e8897;
  --tw-prose-counters: #95a1b1;
  --tw-prose-hr: #2a313a;
}

.prose code {
  border: 1px solid var(--border);
  border-radius: 0.375rem;
  padding: 0.1rem 0.3rem;
}

.prose pre code {
  border: 0;
  padding: 0;
}

.prose .katex-display {
  display: block;
  max-width: 100%;
  overflow-x: auto;
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;
  padding-bottom: 0.2rem;
}

.prose .katex-display > .katex {
  display: inline-block;
  min-width: max-content;
}

@media (max-width: 640px) {
  .prose .katex-display {
    font-size: 0.88em;
    text-align: left;
  }
}
